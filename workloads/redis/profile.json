{
	"deployment": "redis",
	"stages": [
		{
			"containerBenchmarks": [
				{
					"name": "busycpu",
					"count": 2,
					"resources": {
						"cpushares": 512
					},
					"image": "hyperpilot\/busycpu"
				}
			],
			"workloadBenchmark": {
				"requests": [
					{
						"method": "POST",
						"component": "redis-bench",
						"path": "\/api\/benchmark",
						"body": {
                                                  "name": "redis-test",
                                                  "workflow": ["run"],
                                                  "commandSet": {
                                                    "run": {
                                                      "name": "load-testing",
                                                      "binPath": "/usr/bin/redis-benchmark",
                                                      "args": ["-h", "redis-serve", "-p", "6379", "--csv", "-n", "10000"],
                                                      "type": "load-test"
                                                    }
                                                  }
						}
					}
				]
			}
		},
		{
			"containerBenchmarks": [
				{
					"name": "busycpu",
					"count": 2,
					"resources": {
						"cpushares": 256
					},
					"image": "hyperpilot\/busycpu"
				}
			],
			"workloadBenchmark": {
				"requests": [
					{
						"method": "POST",
						"component": "redis-bench",
						"path": "\/api\/benchmark",
                                                "body": {
                                                  "name": "redis-test",
                                                  "workflow": ["run"],
                                                  "commandSet": {
                                                    "run": {
                                                      "name": "load-testing",
                                                      "binPath": "/usr/bin/redis-benchmark",
                                                      "args": ["-h", "redis-serve", "-p", "6379", "--csv", "-n", "10000"],
                                                      "type": "load-test"
                                                    }
                                                  }
						}
					}
				]
			}
		},
          	{
			"containerBenchmarks": [
				{
					"name": "busycpu",
					"count": 2,
					"resources": {
						"cpushares": 128
					},
					"image": "hyperpilot\/busycpu"
				}
			],
			"workloadBenchmark": {
				"requests": [
					{
						"method": "POST",
						"component": "redis-bench",
						"path": "\/api\/benchmark",
                                                "body": {
                                                  "name": "redis-test",
                                                  "workflow": ["run"],
                                                  "commandSet": {
                                                    "run": {
                                                      "name": "load-testing",
                                                      "binPath": "/usr/bin/redis-benchmark",
                                                      "args": ["-h", "redis-serve", "-p", "6379", "--csv", "-n", "10000"],
                                                      "type": "load-test"
                                                    }
                                                  }
						}
					}
				]
			}
		}
	]
}
